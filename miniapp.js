"use strict";const d=[{group:"Squat",movements:[{mid:0,label:"Squats"},{mid:1,label:"Highbar squats"},{mid:2,label:"Paused squats"},{mid:3,label:"Front squats"},{mid:4,label:"SSB squats"},{mid:21,label:"Highbar paused squats"}]},{group:"Bench",movements:[{mid:5,label:"Bench press"},{mid:6,label:"Medium grip bench press"},{mid:7,label:"Close grip bench press"},{mid:8,label:"Larsen press"},{mid:9,label:"Close grip Larsen press"},{mid:10,label:"Medium grip Larsen pin press"},{mid:20,label:"Incline press"},{mid:22,label:"Log press"},{mid:23,label:"Floor press"}]},{group:"Deadlift",movements:[{mid:11,label:"Deadlifts"},{mid:12,label:"Deficit deadlifts"},{mid:13,label:"Snatch grip deadlifts"},{mid:14,label:"Block pulls"},{mid:25,label:"Sumo deadlifts"}]},{group:"Other",movements:[{mid:15,label:"Sealrow"},{mid:16,label:"Standing row"},{mid:17,label:"Pullups"},{mid:18,label:"Weighted pullups"},{mid:19,label:"Weighted dips"},{mid:24,label:"Bulgarian split squats"}]}],e=[{id:0,title:"Basic training program",shareString:"ko0408084448k-2+48484A0c4448s-2+4c448-23Wkk484g04w8084448k-2+48484A0c4448s-2+4c448-23Wkk484g0488084448k-2+48484A0c4448s-2+4c448-23Wkk484g04A8084448k-2+48484A0c4448s-2+4c448-23Wkk484g04I8084448k-2+48484A0c4448s-2+4c448-23Wkk484g04E8084448k-2+48484A0c4448s-2+4c448-23Wkk484g"},{id:1,title:"Swiss program",shareString:"kk0808084448k-2+48484A0c4448s-2+4c448-23Wkk484g-21i8084448w-2+48484w0c4448E-2+4c448-23Wkk484g08k8084448k-2+48484A0c4448s-2+4c448-23Wkk484g-21m8084448k-2+48484A0c4448s-2+4c448-23Wkk484g08I8084448k-2+48484A0c4448s-2+4c448-23Wkk484gs8084448w-2+48484w0c4448E-2+4c448-23Wkk484g08-21u8084448k-2+48484A0c4448s-2+4c448-23Wkk484g-21q8084448k-2+48484w0c4448s-2+4c448-23Wkk484g08-21C8084448w-2+48484w0c4448E-2+4c448-23Wkk484g-21u8084448w-2+48484w0c4448E-2+4c448-23Wkk484g"},{id:2,title:"Oldschool linear",shareString:"oo04040c4448E-2+4c448-23Kgk448E-2+404w40c4448E-2+4c448-23Kgk448E-2+404840c4448E-2+4c448-23Kgk448E-2+404A40c4448E-2+4c448-23Kgk448E-2+404I40c4448E-2+4c448-23Kgk448E-2+404E40c4448E-2+4c448-23Kgk448E-2+4"},{id:3,title:"Advanzed program",shareString:"ko0408084448k-2+48484A0c4448s-2+4c448-23Wkk484g04wk088484Ac484-25a088484Ac484-25u088484Ac484-25O088484Ac484-268088484Ac484-23S0488084448k-2+48484A0c4448s-2+4c448-23Wkk484g04Ak088484Ac484-25a088484Ac484-25u088484Ac484-25O088484Ac484-268088484Ac484-23S04I8084448k-2+48484A0c4448s-2+4c448-23Wkk484g04Ek088484Ac484-25a088484Ac484-25u088484Ac484-25O088484Ac484-268088484Ac484-23S"}],s=9999;var r;r=1;const u=a=>t=>e=>a*(36/(37-(t+(11-e-r)))),g=e=>{e=2.5*Math.round(e/2.5);return 0<e?e:""},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),a=e=>{if(0==e)return 0;let t="";var a=e<0?"+":"";let r=(4*Math.abs(e)).toFixed();for(;0<r;)t=n[r%62]+t,r=(r-r%62)/62;return a+t},i=e=>{var t="+"===e[0];const a="+"===e[0]?e.slice(1):e;e=a.split("").map(t=>n.findIndex(e=>e==t)).reverse().map((e,t)=>e*62**t).reduce((e,t)=>e+t)/4;return t?-1*e:e};class o{static latestId=1e3;static resetId(){this.latestId=1e3}static getUniqueId(){return this.latestId++}}const p=()=>[...Array(localStorage.length).keys()].map(e=>localStorage.key(e)),N=(e,t)=>a([e,t].join("")),l=()=>p().filter(e=>e.match(/^\d{4}$/g)).map(e=>{localStorage.removeItem(e)}),c=()=>p().filter(e=>e.match(/^\d{4}$/g)).map(e=>N(e,localStorage.getItem(e))).join("-"),j=e=>{const t=i(e).toString(10);return[t.slice(0,4),t.slice(4)]},V=e=>e.split("-").map(e=>j(e)),m=()=>{var e=(new Date).toISOString().slice(0,10),t=v(s)(0);const a=c();1<a.split("-").length&&localStorage.setItem(`progress-${t}-`+e,c())},h=t=>e=>localStorage.setItem(t,e),v=t=>e=>localStorage.getItem(t)?localStorage.getItem(t):e,D=()=>{let t=0;for(;t=Math.floor(900*Math.random()+100),0<p().filter(e=>e.match(new RegExp("^program-"+t,"g"))).length;);return t},$=()=>{return p().filter(e=>e.match(/^program-/g)).map(e=>({id:Number(e.match(/^program-(\d+)/)[1]),title:e.match(/^program-\d+-(.+)/)[1],shareString:localStorage.getItem(e)}))},b=()=>[...e,...$()],y=t=>b().find(e=>e.id==t)??y(0),k=(e,t,a)=>{const r=document.createElement(e);return r.classList.add(...t),"string"==typeof a?r.textContent=a:Array.isArray(a)?r.append(...a):"object"==typeof a&&r.appendChild(a),r},f=e=>k("tr",[],e.map(e=>k("td",[],e))),E=e=>k("tr",[],e.map(e=>k("th",[],e))),K=e=>{const t=document.createElement("input");return t.id=o.getUniqueId(),t.onchange=()=>h(t.id)(t.checked?1:0),t.setAttribute("type","checkBox"),t.checked="1"===v(t.id)(0),t.setAttribute("aria-label",e),t.setAttribute("title",e),t},w=(e,t,a,r,n)=>{const i=document.createElement("input");return t<100&&1==a&&i.classList.add("smallInput"),i.id=o.getUniqueId(),i.onchange=()=>h(i.id)(i.value),i.setAttribute("type","number"),i.value=v(i.id)(r),i.min=e,i.max=t,i.step=a,i.setAttribute("aria-label",n),i.setAttribute("title",n),i},C=(e,t)=>{const a=document.createElement("input");return a.setAttribute("type","text"),a.value=e,a.disabled=!0,a.setAttribute("aria-label",t),a.setAttribute("title",t),a};class S{static shareContainer=null;static getShareButton=()=>{const e=k("button",[],"ðŸ’¾");return e.onclick=()=>{this.shareContainer.dispatchEvent(new Event("toggleVisibility")),this.shareContainer.hidden=!this.shareContainer.hidden},e};static initShareContainer=()=>{const o=k("div",["shareLinkContainer"]);o.hidden=!0,o.addEventListener("toggleVisibility",()=>{for(;o.firstChild;)o.removeChild(o.firstChild);var e=v(s)(0);const t=new RegExp("progress-"+e,"g"),a=(o.append(...p().filter(e=>e.match(t)).sort().map(e=>{var t=e.substring(e.length-10);const a=k("div",["shareStringContainer"],k("label",["shareStringLabel"],t)),r=k("button",["clearButton"],"ðŸ—‘"),n=(r.onclick=()=>{localStorage.removeItem(e),o.dispatchEvent(new Event("toggleVisibility"))},k("input",["presentedlink"],"")),i=(n.type="text",n.value=localStorage.getItem(e),k("button",[],"Copy")),s=(i.onclick=()=>{n.select(),document.execCommand("copy")},k("button",[],"Restore"));return s.onclick=()=>{var e;e=n.value,m(),l(),V(e).map(e=>h(e[0])(e[1])),q.renderProgram()},a.append(r,n,i,s),a})),k("div",["shareStringContainer"])),r=k("button",[],"Save current"),n=(r.onclick=()=>{m(),o.dispatchEvent(new Event("toggleVisibility"))},k("button",["closebutton"],"â–² â–² â–²"));n.onclick=()=>{o.hidden=!o.hidden},a.append(r),o.append(a,n)}),this.shareContainer=o}}const T=(e,t)=>{const a=k("select",["movementselect"]),r=(a.setAttribute("cascade",t),a.id=o.getUniqueId(),v(a.id)(e));a.onchange=()=>{h(a.id)(a.value),[...document.querySelectorAll(`select[cascade$=${CSS.escape(t.slice(1))}]`)].filter(e=>e.getAttribute("cascade")[0]>t[0]).map(e=>{e.value=a.value,h(e.id)(a.value)})};e=d.map(e=>{const t=k("optgroup",[],e.movements.map(e=>{const t=k("option",[],e.label);return t.value=e.mid,e.mid==r&&(t.selected=!0),t}));return t.label=e.group,t});return a.append(...e),a};class I{static programSettingsContainer=k("div",["programSettingsContainer"]);static toggleVisibility=()=>{this.programSettingsContainer.hidden=!this.programSettingsContainer.hidden};static getProgramSettingsButton=()=>{const e=k("button",[],"ðŸ› ");return e.onclick=()=>{this.toggleVisibility()},e};static movementsMaxMap=new Map;static movementsTitleMap=new Map(d.map(e=>e.movements.map(e=>[e.mid,e.label])).flat());static movementsMaxInputMap=new Map;static initProgramSettingsContainer=e=>{this.movementsMaxInputMap=new Map,this.movementsMaxMap=new Map;var t=k("h2",[],"Program settings");const a=k("div",["programSettingsContainer"]),r=(a.id="programSettings",a.append(t),k("button",["clearButton"],"ðŸ—‘")),n=(r.onclick=()=>{l(),q.renderProgram()},a.append(k("div",["cleanSlateContainer"],["Reset program:",r])),e.days.map(e=>e.filter(e=>e.sets.some(e=>null!==e.rpe(1)&&null!==e.reps(1))).map(e=>e.movementId)).flat()),i=e.days.map(e=>e.filter(e=>e.sets.every(e=>null===e.rpe(1)||null===e.reps(1))).map(e=>e.movementId)).flat(),s=(a.append(...[{title:"Required e1RMs",movs:i},{title:"Optional e1RMs",movs:n}].map(e=>0<e.movs.length?k("table",["settingsTable"],[k("caption",[],e.title+":"),E(["Movment","e1RM"]),...e.movs.map(e=>{const t=w(75,1e3,2.5);return t.addEventListener("change",()=>{this.movementsMaxMap.set(e,t.value)}),this.movementsMaxInputMap.set(e,t),this.movementsMaxMap.set(e,t.value),f([this.movementsTitleMap.get(e),t])})]):null).filter(e=>null!==e)),0!=i.length&&![...this.movementsMaxInputMap.keys()].filter(e=>i.includes(e)).every(e=>0<this.movementsMaxInputMap.get(e).value)||(a.hidden=!0),k("button",["closebutton"],"â–² â–² â–²"));s.onclick=this.toggleVisibility,a.append(A.getProgramEditorButton(),A.getNewProgramButton(),s),this.programSettingsContainer=a}}class A{static programEditorContainer=null;static toggleVisibility=()=>{this.programEditorContainer.hidden=!this.programEditorContainer.hidden,window.scrollTo({top:0,behavior:"smooth"})};static getNewProgramButton=()=>{const e=k("button",[],"Create new program");return e.onclick=()=>{m(),l(),q.renderProgram({title:"New program",shareString:"k0"})},e};static getProgramEditorButton=()=>{const e=k("button",[],"Edit Program");return e.onclick=this.toggleVisibility,e};static initProgramEditorContainer=(e,t)=>{const n=F(R(e,t)),a=k("div",["programEditorContainer"]),s=(e,t,a)=>{a.value="text"===a.type?e[t]:Number(e[t]),a.addEventListener("change",()=>{e[t]=a.value})},r=k("button",[],"Close program editor"),i=(r.onclick=this.toggleVisibility,k("input",[])),o=(i.setAttribute("type","text"),s(n,"title",i),i.value=n.title,k("input",[])),p=(o.setAttribute("type","number"),o.addEventListener("change",()=>l.dispatchEvent(new Event("render"))),s(n,"numberOfIterations",o),a.append(r,k("div",["editorFieldBox"],[k("label",[],"Title"),i]),k("div",["editorFieldBox"],[k("label",[],"Number of iterations/weeks"),o])),new Map([[x,{optionLabel:"None",nrOfParams:0}],[M,{optionLabel:"Linear",nrOfParams:2}],[P,{optionLabel:"Constant",nrOfParams:1}],[O,{optionLabel:"Steps",nrOfParams:n.numberOfIterations}]])),l=k("div",["allDaysContainer"]),c=(l.addEventListener("render",e=>{for(;l.firstChild;)l.removeChild(l.firstChild);l.append(...n.days.map((i,e)=>{const t=k("fieldset",["dayEditContainer"]);return t.append(k("legend",[],["Day "+(e+1),((e,t,a)=>{const r=k("button",["clearButton"],"ðŸ—‘");return r.onclick=()=>{e.remove(),t.days.splice(a,1),l.dispatchEvent(new Event("render"))},r})(t,n,e)]),...i.map((r,e)=>{const t=k("div",["movementEditContainer"]);var a=r.sets.map((e,t)=>{const a=k("div",["setContainer"]);return a.append(k("h3",[],"Set "+(t+1)),((e,t,a)=>{const r=k("button",["clearButton"],"ðŸ—‘");return r.onclick=()=>{e.remove(),t.sets.splice(a,1),l.dispatchEvent(new Event("render"))},r})(a,r,t),...Object.entries(e).map(([e,r])=>{const t=k("div",["progressionContainer"]),n=k("select",["progressionSelect"]),a=k("div",["progressionEditor"]);return p.forEach((e,t)=>{const a=k("option",[],e.optionLabel);(a.value=t)===r.type&&(a.selected=!0),n.append(a)}),s(r,"type",n),n.addEventListener("change",()=>{for(;a.firstChild;)a.removeChild(a.firstChild);const e=new Map([[x,0],[M,2],[P,1],[O,10]]);a.append(((r,e)=>{const t=k("div",["paramsContainer"]),a=Array(e).fill();e=a.map((e,t)=>{const a=k("input",["paramInput"]);return a.setAttribute("type","number"),a.min=-1e3,a.max=1e3,a.step=.25,s(r,t,a),k("div",["paramBox"],[k("label",[],"Param "+(t+1)),a])});return t.append(...e),t})(r.params,e.get(Number(n.value))))}),n.dispatchEvent(new Event("change")),t.append(k("label",["progressionLabel"],e),n,a),t})),a}),n=(a=>{const e=k("select",["dumbmovementselect"]);var t=d.map(e=>{const t=k("optgroup",[],e.movements.map(e=>{const t=k("option",[],e.label);return t.value=e.mid,e.mid==a&&(t.selected=!0),t}));return t.label=e.group,t});return e.append(...t),e})(r.movementId);return s(r,"movementId",n),t.append(k("h3",[],"Movement "+(e+1)),((e,t,a)=>{const r=k("button",["clearButton"],"ðŸ—‘");return r.onclick=()=>{e.remove(),t.splice(a,1),l.dispatchEvent(new Event("render"))},r})(t,i,e),n,...a,(e=>{const t=k("button",[],"Add set");return t.onclick=()=>{e.sets.push({reps:{type:x,params:[]},rpe:{type:x,params:[]},perc:{type:x,params:[]},weight:{type:x,params:[]},repeat:{type:x,params:[]}}),l.dispatchEvent(new Event("render"))},t})(r)),t}),(e=>{const t=k("button",[],"Add movement");return t.onclick=()=>{e.push({movementId:0,sets:[{reps:{type:x,params:[]},rpe:{type:x,params:[]},perc:{type:x,params:[]},weight:{type:x,params:[]},repeat:{type:x,params:[]}}]}),l.dispatchEvent(new Event("render"))},t})(i)),t}),(e=>{const t=k("button",[],"Add day");return t.onclick=()=>{e.days.push([{movementId:0,sets:[{reps:{type:x,params:[]},rpe:{type:x,params:[]},perc:{type:x,params:[]},weight:{type:x,params:[]},repeat:{type:x,params:[]}}]}]),l.dispatchEvent(new Event("render"))},t})(n))}),l.dispatchEvent(new Event("render")),a.append(l),k("button",[],"Save and render program"));c.onclick=()=>{var e,t,a,r=H(n);e=n.title,t=r,a=D(),localStorage.setItem(`program-${a}-`+e,t),q.renderProgram({title:n.title,shareString:r})},a.append(c),a.hidden=!(t.length<3),this.programEditorContainer=a}}const M=1,P=2,x=3,O=4,B={linear:(...t)=>e=>t[0]+t[1]*e,constant:(...t)=>e=>t[0],none:()=>e=>null,steps:(...t)=>e=>t[e%t.length]},L=e=>{if("function"==typeof e)return e;if(void 0===e)return B.none();if(null==e)return B.none();if("number"==typeof e)return B.constant(e);if("object"==typeof e){if(e.type===M)return B.linear(...e.params);if(e.type===P)return B.constant(...e.params);if(e.type===x)return B.none();if(e.type===O)return B.steps(...e.params)}return B.none()},F=e=>({numberOfIterations:e.numberOfIterations,title:e.title,days:e.days.map(e=>e.map(e=>({movementId:e.movementId,sets:e.sets.map(e=>({reps:e.hasOwnProperty("reps")?e.reps:{type:x,params:[]},rpe:e.hasOwnProperty("rpe")?e.rpe:{type:x,params:[]},perc:e.hasOwnProperty("perc")?e.perc:{type:x,params:[]},weight:e.hasOwnProperty("weight")?e.weight:{type:x,params:[]},repeat:e.hasOwnProperty("repeat")?e.repeat:{type:x,params:[]}}))})))}),W={reps:1,rpe:2,perc:3,weight:4,repeat:5},t=(e,t)=>"object"==typeof t&&t.type!=x?[e,1,t.type,t.params.length,t.params]:[],H=e=>[e.numberOfIterations,e.days.length,e.days.map(e=>[0,e.length,e.map(e=>[e.movementId,e.sets.length,e.sets.map(e=>[0,Object.values(e).filter(e=>e.type!=x).length,...t(W.reps,e.reps),...t(W.rpe,e.rpe),...t(W.perc,e.perc),...t(W.weight,e.weight),...t(W.repeat,e.repeat)])])])].flat(8).map(e=>a(e)).map(e=>1<e.length?"-"+e.length+e:e).join(""),U=e=>e.split(/(?=-)/g).map(e=>"-"===e[0]?[e.slice(2,2+Number(e[1])),...e.slice(2+Number(e[1])).split("")]:e.split("")).flat(),R=(e,t)=>{const a=U(t).map(e=>i(e));const r=e=>({type:e[0][0],params:e[0].slice(1).flat()});return{numberOfIterations:a[0],title:e,days:((e,t)=>{const a=[0,0,0,0,0,0,e],r=[];let n=!1,i=!0;return t.forEach(e=>{var t=a.findIndex(e=>0<e);i?(6==t?r.push([e]):5==t?r.at(-1).push([e]):4==t?r.at(-1).at(-1).push([e]):3==t?r.at(-1).at(-1).at(-1).push([e]):2==t?r.at(-1).at(-1).at(-1).at(-1).push([e,[]]):1==t?r.at(-1).at(-1).at(-1).at(-1).at(-1).push([e,[]]):0==t&&r.at(-1).at(-1).at(-1).at(-1).at(-1).at(-1).push([e,[]]),i=!1,n=!0):-1<t&&(n?(a[t-1]=e,n=!1,i=2<t):6==t?r.at(-1).push([e]):5==t?r.at(-1).at(-1).push(e):4==t?r.at(-1).at(-1).at(-1).push(e):3==t?r.at(-1).at(-1).at(-1).at(-1).push(e):2==t?r.at(-1).at(-1).at(-1).at(-1).at(-1).push(e):1==t?r.at(-1).at(-1).at(-1).at(-1).at(-1).at(-1).push(e):0==t&&r.at(-1).at(-1).at(-1).at(-1).at(-1).at(-1).at(-1).push(e),--a[t],a.slice(0,t+1).every(e=>0==e)&&(n=!0,i=!0))}),r})(a[1],a.slice(2)).filter(e=>"object"==typeof e&&0<e.length).map(e=>e.filter(e=>"object"==typeof e&&0<e.length).map(e=>({movementId:e[0],sets:e.slice(1).filter(e=>"object"==typeof e&&0<e.length).map(e=>{const t={};return e.slice(1).map(e=>{e[0]==W.reps?t.reps=r(e.slice(1)):e[0]==W.rpe?t.rpe=r(e.slice(1)):e[0]==W.perc?t.perc=r(e.slice(1)):e[0]==W.weight?t.weight=r(e.slice(1)):e[0]==W.repeat&&(t.repeat=r(e.slice(1)))}),t})})))}};class q{static appContainer=k("div",["appContainer"]);static first=!0;static renderProgram(e){for(o.resetId();this.appContainer.firstChild;)this.appContainer.removeChild(this.appContainer.firstChild);window.scrollTo({top:0});let t=y(v(s)(0));"object"==typeof e&&(t=e);e=R(t.title,t.shareString);A.initProgramEditorContainer(t.title,t.shareString);const a={numberOfIterations:e.numberOfIterations,title:e.title,days:e.days.map(e=>e.map(e=>({movementId:e.movementId,sets:e.sets.map(e=>({reps:L(e.reps),rpe:L(e.rpe),perc:L(e.perc),weight:L(e.weight),repeat:null==e.repeat||void 0===e.repeat?B.constant(1):L(e.repeat)}))})))},r=(I.initProgramSettingsContainer(a),k("div",["programContainer"])),n=[...Array(a.numberOfIterations).keys()],i=(r.append(...n.map(n=>{var e=k("h2",["weekHeader"],"Week "+(n+1));const t=k("div",["blockContainer","weekelement"],e);return t.id="cycle"+n,t.append(...a.days.map((e,t)=>{{var m=n,a=t;t=e;const r=k("fieldset",["dayContainer"],k("legend",[],"Day "+(a+1)));return r.id=`day${m}-`+a,r.append(...t.map((c,e)=>{const d=[],t=c.sets.map(e=>Array(e.repeat(m)).fill(e)).flat();return k("table",["movementContainer"],[k("caption",[],T(c.movementId,m+"-"+a+e)),E(["","Reps","Goal RPE","% of e1RM","Weight","Actual RPE","e1RM"]),...t.map((a,e)=>{const t=w(0,10,1,a.reps(m),"Reps for set "+(e+1));var r=C(null!==a.perc(m)?a.perc(m)+"%":null,"Percentage for set "+(e+1));const n=null!==a.perc(m)?C(a.weight(m),"Weight for set "+(e+1)):w(75,1e3,2.5,a.weight(m),"Weight for set "+(e+1)),i=w(1,11,.25,a.rpe(m),"Actual RPE for set "+(e+1));var s=C(a.rpe(m),"Goal RPE for set "+(e+1));const o=C("...","Estimated 1RM for set "+(e+1));if(null!==a.perc(m)){const l=()=>{var e=I.movementsMaxMap.get(c.movementId)??0,e=d.reduce((e,t)=>Math.max(Number(e),Number(t.value)),e),t="function"==typeof a.perc?a.perc(m):Number(a.perc);n.value=g(t*e/100)};l(),d.map(e=>e.addEventListener("change",l)),I.movementsMaxInputMap.has(c.movementId)&&I.movementsMaxInputMap.get(c.movementId).addEventListener("change",l)}d.push(o);const p=()=>n.value&&t.value&&i.value?u(Number(n.value))(Number(t.value))(Number(i.value)):null;return o.value=g(p()),[t,n,i].map(e=>e.addEventListener("input",()=>{o.value=g(p()),o.dispatchEvent(new Event("change"))})),f([K("Checkbox indicating done set for set "+(e+1)),t,s,r,n,i,o])}).flat()])})),r}})),t})),k("div",["headerContainer"]));S.initShareContainer(),i.append(k("div",["titleBar"],[(()=>{const e=b(),t=k("select",["programselect"]),a=(t.id=s,t.value=0,t.onchange=()=>{m(),l(),h(t.id)(t.value),q.renderProgram(y(t.value))},k("option",[],"â‰¡"));return a.disabled=!0,a.selected=!0,t.append(a),t.append(...e.map((e,t)=>{const a=k("option",[],e.title);return a.value=e.id,a})),t})(),k("h1",["programHeader"],t.title)]),(n=>{const e=[...Array(n.numberOfIterations).keys()];var t=k("div",["linkList"],e.map(a=>{const e=k("div",["tightdiv","weekelement"]),t=k("button",["cyclelink"],"Week"+(a+1)),r=k("div",["dayButtonList"]);return r.append(...[...Array(n.days.length).keys()].map(e=>{const t=k("button",["dayButton"],"Day "+(e+1));return t.onclick=()=>{document.querySelector(`#day${a}-`+e).scrollIntoView({behavior:"smooth"}),r.hidden=!0},t})),r.hidden=!0,e.append(t,r),t.onclick=()=>{r.hidden=!r.hidden},e}));return k("div",["buttonBar"],[t,k("div",["linklist"],[I.getProgramSettingsButton(),S.getShareButton()])])})(a),S.shareContainer,I.programSettingsContainer),this.appContainer.append(i,A.programEditorContainer,r),this.first&&(document.body.append(this.appContainer),this.first=!1)}}void 0===v(s)()&&h(s)(0),q.renderProgram();